extends layout

block content
  div#crawling
    h1= title
    br
    br
    lable Email receivers(max: 4)
    br
    input.input-email(type='text', placeholder='e.g., donk@ddbox.com' value='xemeusch@gmail.com')
    br
    input.input-email(type='text', placeholder='e.g., elon@ddbox.com')
    br
    input.input-email(type='text', placeholder='e.g., fast@ddbox.com')
    br
    input.input-email(type='text', placeholder='e.g., game@ddbox.com')
    br
    lable Selected Index receivers(max: 4)
    br
    input.select-index(type='number', placeholder='e.g., 1', value='2')
    input.select-index(type='number', placeholder='e.g., 1', value='2')
    input.select-index(type='number', placeholder='e.g., 2', value='8')
    input.select-index(type='number', placeholder='e.g., 2', value='13')
    br
    lable Set delayed seconds(max: 80)
    br
    input#delayed-second(type='number', placeholder='e.g., 1', value='0')
    br
    button#crawling-start.btn.btn-primary Start
    span &emsp;
    button#crawling-stop.btn.btn-primary Stop
    br
    div(ng-app="housingApp",ng-controller="retrievingCtrl")
      br
      button.btn.btn-info(ng-click="getJson()") Start watching JSON Data
      span &emsp;
      button.btn.btn-info(ng-click="stopJson()") Stop watching JSON Data
      br
      br
      div(ng-repeat="(k, v) in summary")
        span {{k + ': ' + v}}
      table.table.table-striped
        tr
          th No.
          th(ng-repeat="(k, v) in mapper") {{k}}
        tr(ng-repeat="item in result")
          td {{$index+1}}
          td(ng-repeat="(k, v) in item")
            a(href="{{item.link}}" target="_blank")
              span(ng-if="k != 'link'") {{v}}
  script.
    if (true)
      console.log('Script is working')    
  script(type="text/javascript" src="javascripts/crawling.js")